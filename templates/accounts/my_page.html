{% load static %}

<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <meta name="description" content=""/>
    <meta name="author" content=""/>
    <title>Peach Market</title>
    <!-- Favicon-->
    <link rel="icon" type="image/x-icon" href="{% static "img/peach_icon.png" %}"/>
    <!-- Bootstrap icons-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet"/>
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="{% static "css/sidebar.css" %}" rel="stylesheet"/>

    <!-- Font Awesome -> 아이콘 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer"/>

    <!-- google font-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="crossorigin">
    <link href="https://fonts.googleapis.com/css2?family=Grandiflora+One&family=Lumanosimo&display=swap" rel="stylesheet">

    <!-- owl carousel -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.theme.default.min.css">
    <style>
      .mylogo {
        font-family: 'Grandiflora One', cursive;
        font-family: 'Lumanosimo', cursive;
      }
      img.rounded-circle{
        box-shadow: 0 5px 15px gray;
      }
      .list-head{
        background-color:#ccc;
      }

    </style>

  </head>

  <body>
    <div class="d-flex" id="wrapper">
      <!-- Sidebar-->
      <div class="border-end bg-white" id="sidebar-wrapper">
        <div class="sidebar-heading border-bottom bg-light mylogo"><a class="navbar-brand" href="{% url "blog:index" %}" style="" >Peach Market</a></div>
        <div class="list-group list-group-flush">
          <a class="list-group-item list-group-item-action list-group-item-light p-3" href="#!"><i class="fa-regular fa-user"></i> Profile</a>
          <a class="list-group-item list-group-item-action list-group-item-light p-3" href="{% url "blog:cart" user.nickname%}">장바구니</a>
          <a class="list-group-item list-group-item-action list-group-item-light p-3" href="#!">게시한 글</a>
          <a class="list-group-item list-group-item-action list-group-item-light p-3" href="#!">비밀번호 변경</a>
          <a class="list-group-item list-group-item-action list-group-item-light p-3" href="#!"><i class="fa-solid fa-arrow-right-from-bracket"></i> 로그아웃</a>
        </div>
      </div>
      <!-- Page content wrapper-->
      <div id="page-content-wrapper">
        <!-- Top navigation-->
        <nav class="navbar navbar-expand-lg navbar-light bg-light border-bottom" >
          <div class="container-fluid">
            <button class="btn btn-primary" id="sidebarToggle"><i class="fa-solid fa-bars"></i> 메뉴</button>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span></button>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">
               <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                <li class="nav-item">
                  <a class="nav-link" href="{% url "blog:index" %}">Home</a>
                </li>
              {% if not user.is_authenticated %}
                <li class="nav-item">
                  <a class="nav-link" href="{% url "accounts:login" %}">Login</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="{% url "accounts:join" %}">SignUp</a>
                </li>
                {% else %}
                <li class="nav-item">
                  <a class="nav-link" href="">
                    {% comment %} <i class="fa-regular fa-cart-shopping" style="color: #6c757d;"></i>
                    <i class="fa-regular fa-bag-shopping"></i> {% endcomment %}
                    <img src="{% static "img/cart-shopping-solid.svg" %}" alt=""> Cart
                  </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="{% url "accounts:login" %}"><i class="fa-regular fa-user"></i> <span class="small ">{{request.user.name}} 님</span></a>
                </li>
                      {% endif %}
                </ul>
              </li>
            </ul>
            </div>
          </div>
        </nav>
        <!-- Page content-->

          <div class="container px-5 ">
            <div class="row">
              <!-- col-4 -->
             <div class="profileZone col-4 vh-100  shadow  ">
              <div class="profileHeader fs-1 mb-3">
              My Page
              </div>  
              <div class="profileContent">
                <img class="rounded-circle mx-auto d-block " src="{{user.profile.avatar.url}}" style="width:180px; height:180px;" alt="..."/>
                <p class="fw-bold fs-1 mb-0 mt-1 text-center">{{user.nickname}}</p> <!-- 실명 -->
                <p class="text-muted mb-0 text-center">{{user}}</p>
              </div>
              
              <hr>
              
              <div class="buying d-flex mb-5">
                <div class="rounded-3  p-4 border text-center flex-fill">
                  주문내역
                  <div>12</div>
                </div>
                <div class="rounded-3 p-4 border text-center flex-fill">
                  나의 글
                  <div>12</div>
                </div>
                <div class="rounded-3  p-4 border text-center flex-fill">
                  문의
                  <div>12</div>
                </div>
              </div>
              <div class="mb-5">
                최근 거래한 상품
                <div>
                  <!-- for문으로 띄우기 -->
                  <img class="rounded-3  " src="https://dummyimage.com/150x150/ced4da/6c757d" alt="..."/>
                </div>
              </div>
              <hr>
              <div class="left-footer">
                <ul class="d-flex justify-content-around" >
                  <li>로그아웃</li>
                  <li>고객센터</li>
                </ul>
                <div class="mylogo text-center">peach market</div>
              </div>

             
            </div>
            <!-- col-8-->
            <div class="col-8 px-5 py-4">
              <div class="subindexItem mb-5">
                
                
                <ul class="list-group">
                  <li class="list-group-item list-head d-flex justify-content-between">
                    <div>기본정보</div> <div><i class="fa-solid fa-pen-to-square"></i></div>
                  </li>
                  <li class="list-group-item">
                    <img class="rounded-circle me-3 " src="{{user.profile.avatar.url}}" style="width:60px; height:60px;" alt="..."/>
                    {{user.name}}
                  </li>
                  
                  <li class="list-group-item">
                    <i class="fa-solid fa-genderless"></i>
                    {% with user_gender=user.profile.gender %}
                    {% if user_gender == 'F' %}
                    여성
                    {% elif user_gender == 'M' %}
                    남성
                    {% elif user_gender == 'M' %}
                    밝히지 않음
                    {% endif %}
                    
                    {% endwith %}
                    </li> 
                    <li class="list-group-item"><i class="fa-solid fa-mobile-screen"></i> {{user.phone_number}}</li>
                    <li class="list-group-item"><i class="fa-regular fa-envelope"></i> {{user.email}}</li>
                </ul>
              </div>
              <div class="subindexItem mb-5">
              
              
                <ul class="list-group ">
                  <li class="list-group-item list-head d-flex justify-content-between"><div>주소</div><div><i class="fa-solid fa-pen-to-square"></i></div></li>
                  <li class="list-group-item">{{user.address}}</li>
                 
                </ul>
              </div>
              <div class="subindexItem mb-5">
               
              
                <ul class="list-group">
                  <li class="list-group-item  list-head  d-flex justify-content-between"><div>자기소개</div><div><i class="fa-solid fa-pen-to-square"></i></div></li>
                  <li class="list-group-item">{{user.profile.intro}}</li>
                
                </ul>
              </div>
            </div>
            
          </div>
      
      </div>
    </div>
    <!-- Bootstrap core JS-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Core theme JS-->
    <script src="{% static "js/scripts.js" %}"></script>
  </body>

</html>
